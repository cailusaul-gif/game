# 双人冒险（Top-Down Roguelite 原型）

90 度俯视角、双人同屏协作的动作冒险原型。  
核心目标是做一个可持续迭代的“刷关 + Build”框架：关卡推进、装备成长、敌人技能组合、营地商店与排行榜都已接入。

在线试玩：<https://cailusaul-gif.github.io/game/>

## 核心玩法

- 每关由多张地图组成，清图后进入下一张，最后一张为 Boss 战。
- 击杀 Boss 才能通关并进入下一关。
- 每 3 关进入一次营地，可与商人交易。
- 每 5 关提升一个难度阶，敌人与 Boss 强度上升。
- 关卡通关后：
- 队伍治疗次数恢复到当前上限。
- 已死亡队友会复活（50% 血量）。

## 职业与战斗

- 职业：武士 / 弓箭手 / 魔法师。
- 基础动作：移动、普攻、翻滚（无敌帧）、职业技能、治疗。
- 技能与攻击特效已区分风格：剑气、箭矢、魔法爆发、敌方技能弹道等。
- Boss 区分近战系/远程系，拥有不同技能树和战斗风格。

## 装备与 Build 系统

- 装备位：武器、衣服、鞋子、饰品。
- 装备品质：普通、稀有、史诗、传说。
- 背包系统：可浏览、装备、丢弃（丢弃后直接销毁）。
- 装备可带随机词条与触发技能，构建多流派 Build。
- Boss 掉落规则：至少掉落 1 件史诗装备，并额外掉落若干装备。
- 成长曲线：装备强度/稀有度下限按关卡推进提升（每 3 关一档）。

## 商店与营地

- 营地商店支持自由选择商品，不再强制按顺序购买。
- 独立“治疗上限+1”商品卡（每次营地限购 1 次）。
- 支持商店补货（刷新商品池）。

## 敌人与地图

- 小怪/Boss 支持多技能组合，后期强度显著提高。
- 敌人已接入障碍物碰撞与更智能的绕障逻辑。
- 地图含多风格材质：森林 / 沼泽 / 遗迹 / Boss 堡垒。
- 障碍物与地面材质、阴影、色调已统一优化，降低割裂感。

## 排名系统

- 全队死亡后可输入名称提交成绩。
- 按到达关卡与击杀数统计本地排行榜（Top 20，存储于 LocalStorage）。

## 操作说明

- 职业选择：
- P1：`Q/W/E` 选择 武士/弓箭手/魔法师。
- P2：`U/I/O` 选择 武士/弓箭手/魔法师。
- `Enter` 开始游戏。
- 游戏内 P1：
- 移动 `W/A/S/D`
- 攻击 `F`
- 翻滚 `G`
- 技能 `R`
- 治疗 `T`
- 交互/购买 `E`
- 背包上一个 `C`
- 背包下一个 `V`
- 装备选中物品 `B`
- 丢弃选中物品 `X`
- 游戏内 P2：
- 移动 `I/J/K/L`
- 攻击 `H`
- 翻滚 `Y`
- 技能 `P`
- 治疗 `[`
- 交互/购买 `O`
- 背包上一个 `N`
- 背包下一个 `M`
- 装备选中物品 `,`
- 丢弃选中物品 `.`

## 项目结构

- `src/entities`：玩家、敌人、Boss、投射物、掉落物。
- `src/systems`：地图、碰撞、装备、精灵资源等系统。
- `src/ui`：HUD、面板、渲染器。
- `desktop`：Electron 启动入口与桌面打包配置。

## 本地运行

- 直接浏览器打开 `index.html`（原型可用）。
- 或在本地静态服务器运行后访问页面。
- Electron 启动：`npm start`

## Windows 绿色版打包

- 命令：`npm run dist:green`
- 产物目录：`dist/`

## 资源说明

- 角色与敌人素材已接入你提供的资源包（`role.zip`、`enemy.zip`）。
- 场景物件已接入 forest objects 资源包并适配碰撞与渲染。
